<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andres Macias | Projects</title>

    <!-- fontawesome icons -->
    <script src="https://kit.fontawesome.com/8b2cac046d.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles/main.css">
    <script src="./nav-component.js"></script>
    <script src="./footer-component.js"></script>
</head>

<body>
    <nav-component></nav-component>
    <div id="container">
        <section class="text-center" id="projects">
            <h1 class="section-header">Projects</h1>
            <div class="card-buttons">
                <button class="btn project-button" id="web231">Web 231</button>
                <button class="btn project-button" id="web330">Web 330</button>
                <button class="btn project-button" id="web340">Web 340</button>
                <button class="btn project-button" id="web420">Web 420</button>
                <button class="btn  project-button inactive"> Web 425</button>
                <button class="btn  project-button inactive">Web 450</button>
            </div>
            <div class="project-card-container" id="projectCards">
                <div class="card">
                    <div class="card-image-container">
                        <img class="card-image" src="./images/projects/web231-landingPage.png" alt="placeholder">
                    </div>
                    <div class="card-title">
                        <h2>Web 231 Landing Page</h2>
                    </div>
                    <div class="card-content">
                        <p>Website that showcases the projects for Enterprise JavaScript 1.</p>
                        <p class="link-margin-top"><a href="https://webdevandres.github.io/web-231/"
                                target="_blank">Visit</a></p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-image-container">
                        <img class="card-image" src="./images/projects/web231-cardGame.png" alt="placeholder">
                    </div>
                    <div class="card-title">
                        <h2>Card Game</h2>
                    </div>
                    <div class="card-content">
                        <p>Final for Enterprise JavaScript 1. This is a card game that generates random cards.</p>
                        <p class="link-margin-top"><a href="https://webdevandres.github.io/web-231/"
                                target="_blank">Visit</a></p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-image-container">
                        <img class="card-image" src="./images/projects/web231-alphabetGame.png" alt="placeholder">
                    </div>
                    <div class="card-title">
                        <h2>Alphabet Game</h2>
                    </div>
                    <div class="card-content">
                        <p>This app returns the letter of the alphabet in a given position.</p>
                        <p class="link-margin-top"><a href="https://webdevandres.github.io/web-231/"
                                target="_blank">Visit</a></p>
                    </div>
                </div>
            </div>
        </section>
        <div class="page-icons">
            <img src="./images/page-coffee.svg" alt="">
        </div>
    </div>
    <footer-component></footer-component>

    <script>
        function getCardInfo() {
            let thisButton = this;
            let course = thisButton.innerHTML.toLowerCase();
            course = course.replace(/\s/g, "");

            let projectsFile = `projects/${course}.xml`;
            let file = projectsFile;
            fetch(file)
                .then(res => res.text())
                .then(data => {
                    let domParser = new DOMParser();
                    let xmlCards = domParser.parseFromString(data, 'text/xml');
                    loadCardInfo(xmlCards);
                });
            thisButton.classList.add('active-project');
            thisButton.classList.remove('active-project');

            activeButton(thisButton);
        };

        function activeButton(button) {
            let activeButton = button.innerHTML;
            let buttons = document.getElementsByClassName('project-button');

            if (activeButton === 'Web 231') {
                button.classList.add('active-project');
                document.getElementById('web330').classList.remove('active-project');
                document.getElementById('web340').classList.remove('active-project');
            } else if (activeButton === 'Web 330') {
                button.classList.add('active-project');
                document.getElementById('web231').classList.remove('active-project');
                document.getElementById('web340').classList.remove('active-project');
            }
            else if (activeButton === 'Web 340') {
                button.classList.add('active-project');
                document.getElementById('web231').classList.remove('active-project');
                document.getElementById('web330').classList.remove('active-project');
            }
        }


        function loadCardInfo(xml) {
            let updatedCards = xml.getElementsByTagName('card');
            let newCard = '';
            for (const card of updatedCards) {
                let image = card.getElementsByTagName('image')[0].childNodes[0].nodeValue;
                let title = card.getElementsByTagName('title')[0].childNodes[0].nodeValue;
                let content = card.getElementsByTagName('content')[0].childNodes[0].nodeValue;
                let link = card.getElementsByTagName('visit')[0].childNodes[0].nodeValue;
                newCard += `<div class="card">`;
                newCard += `<div class="card-image-container">
                            <img class="card-image" src=${image} alt="placeholder">
                            </div>
                        <div class="card-title">
                            <h2>${title}</h2>
                            </div>
                        <div class="card-content">
                        <p>${content}</p>
                        <p class="link-margin-top"><a href=${link} target="_blank">Visit</a></p>
                        </div>`;
                newCard += `</div>`;
            }
            document.getElementById("projectCards").innerHTML = newCard;
        };

        let buttons = document.getElementsByClassName('project-button');
        for (let index = 0; index < buttons.length; index++) {
            buttons[index].addEventListener('click', getCardInfo);
        }
    </script>
    <script src="./js/mobile-nav.js"></script>
</body>

</html>